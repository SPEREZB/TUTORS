import{R as B}from"../chunks/control.f5b05b5f.js";import{s as G,f as g,l as P,a as A,g as b,h as w,m as V,d as u,c as q,X as H,j as E,i as R,F as c,n as O,r as Y,e as z,Y as J}from"../chunks/scheduler.a12d0be3.js";import{e as F}from"../chunks/each.cc42282b.js";import{S as K,i as Q}from"../chunks/index.208b70fa.js";import"../chunks/functions.93e96281.js";function U(r,t){return new B(r,t)}new TextEncoder;const Z=async({parent:r})=>{const t=await r(),a=t.session;if(!a)throw U(303,"/auth");const{data:e}=await t.supabase.from("accessed_courses").select("course_list").eq("id",a.user.id);return{session:a,courses:e}},oe=Object.freeze(Object.defineProperty({__proto__:null,load:Z},Symbol.toStringTag,{value:"Module"}));function M(r,t,a){const e=r.slice();return e[1]=t[a],e}function N(r){let t,a=F(r[0].courses[0].course_list.courses),e=[];for(let s=0;s<a.length;s+=1)e[s]=X(M(r,a,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=z()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=z()},m(s,i){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(s,i);R(s,t,i)},p(s,i){if(i&1){a=F(s[0].courses[0].course_list.courses);let l;for(l=0;l<a.length;l+=1){const d=M(s,a,l);e[l]?e[l].p(d,i):(e[l]=X(d),e[l].c(),e[l].m(t.parentNode,t))}for(;l<e.length;l+=1)e[l].d(1);e.length=a.length}},d(s){s&&u(t),J(e,s)}}}function X(r){let t,a,e,s=r[1].name+"",i,l,d,D,f=r[1].last_accessed.slice(0,10)+"",h,S,y=r[1].last_accessed.slice(11,19)+"",p,n,o,_,I=r[1].visits+"",k,x,C;return{c(){t=g("a"),a=g("div"),e=g("p"),i=P(s),l=A(),d=g("p"),D=P("Last Accessed: "),h=P(f),S=A(),p=P(y),n=A(),o=g("p"),_=P("Visits: "),k=P(I),x=A(),this.h()},l(m){t=b(m,"A",{class:!0,href:!0});var v=w(t);a=b(v,"DIV",{});var j=w(a);e=b(j,"P",{class:!0});var W=w(e);i=V(W,s),W.forEach(u),l=q(j),d=b(j,"P",{});var L=w(d);D=V(L,"Last Accessed: "),h=V(L,f),S=q(L),p=V(L,y),L.forEach(u),n=q(j),o=b(j,"P",{});var T=w(o);_=V(T,"Visits: "),k=V(T,I),T.forEach(u),j.forEach(u),x=q(v),v.forEach(u),this.h()},h(){E(e,"class","font-bold"),E(t,"class","card w-full lg:w-96 m-2 p-4"),E(t,"href",C="/course/"+r[1].id)},m(m,v){R(m,t,v),c(t,a),c(a,e),c(e,i),c(a,l),c(a,d),c(d,D),c(d,h),c(d,S),c(d,p),c(a,n),c(a,o),c(o,_),c(o,k),c(t,x)},p(m,v){v&1&&s!==(s=m[1].name+"")&&O(i,s),v&1&&f!==(f=m[1].last_accessed.slice(0,10)+"")&&O(h,f),v&1&&y!==(y=m[1].last_accessed.slice(11,19)+"")&&O(p,y),v&1&&I!==(I=m[1].visits+"")&&O(k,I),v&1&&C!==(C="/course/"+m[1].id)&&E(t,"href",C)},d(m){m&&u(t)}}}function $(r){let t,a,e,s,i=r[0].session.user.user_metadata.name+"",l,d,D,f,h,S="Your previously accessed courses",y,p,n=r[0].courses&&r[0].courses[0]&&N(r);return{c(){t=g("div"),a=g("div"),e=g("p"),s=P("Welcome, "),l=P(i),d=P("!"),D=A(),f=g("div"),h=g("p"),h.textContent=S,y=A(),p=g("div"),n&&n.c(),this.h()},l(o){t=b(o,"DIV",{class:!0});var _=w(t);a=b(_,"DIV",{class:!0});var I=w(a);e=b(I,"P",{class:!0});var k=w(e);s=V(k,"Welcome, "),l=V(k,i),d=V(k,"!"),k.forEach(u),I.forEach(u),_.forEach(u),D=q(o),f=b(o,"DIV",{class:!0});var x=w(f);h=b(x,"P",{class:!0,"data-svelte-h":!0}),H(h)!=="svelte-7n0ye8"&&(h.textContent=S),y=q(x),p=b(x,"DIV",{class:!0});var C=w(p);n&&n.l(C),C.forEach(u),x.forEach(u),this.h()},h(){E(e,"class","text-3xl font-bold"),E(a,"class","container lg:flex mx-auto py-24 px-8"),E(t,"class","bg-gradient-to-l from-primary-50 dark:from-primary-900 to-accent-50 dark:to-accent-900"),E(h,"class","text-2xl font-bold py-4"),E(p,"class","flex flex-wrap"),E(f,"class","container mx-auto p-8")},m(o,_){R(o,t,_),c(t,a),c(a,e),c(e,s),c(e,l),c(e,d),R(o,D,_),R(o,f,_),c(f,h),c(f,y),c(f,p),n&&n.m(p,null)},p(o,[_]){_&1&&i!==(i=o[0].session.user.user_metadata.name+"")&&O(l,i),o[0].courses&&o[0].courses[0]?n?n.p(o,_):(n=N(o),n.c(),n.m(p,null)):n&&(n.d(1),n=null)},i:Y,o:Y,d(o){o&&(u(t),u(D),u(f)),n&&n.d()}}}function ee(r,t,a){let{data:e}=t;return r.$$set=s=>{"data"in s&&a(0,e=s.data)},[e]}class ce extends K{constructor(t){super(),Q(this,t,ee,$,G,{data:0})}}export{ce as component,oe as universal};
